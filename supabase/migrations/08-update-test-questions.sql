-- Update the depression and anxiety test with more questions to match the scoring range

UPDATE psychological_tests
SET questions = '[
  {
    "id": 1,
    "text": "Как часто за последние две недели вас беспокоило плохое настроение, депрессия или чувство безнадежности?",
    "options": [
      {"value": 0, "text": "Совсем не беспокоило"},
      {"value": 1, "text": "Беспокоило несколько дней"},
      {"value": 2, "text": "Беспокоило более половины дней"},
      {"value": 3, "text": "Беспокоило почти каждый день"}
    ]
  },
  {
    "id": 2,
    "text": "Как часто вас беспокоило отсутствие интереса или удовольствия от деятельности?",
    "options": [
      {"value": 0, "text": "Совсем не беспокоило"},
      {"value": 1, "text": "Беспокоило несколько дней"},
      {"value": 2, "text": "Беспокоило более половины дней"},
      {"value": 3, "text": "Беспокоило почти каждый день"}
    ]
  },
  {
    "id": 3,
    "text": "Как часто у вас были проблемы с засыпанием, сном или слишком долгим сном?",
    "options": [
      {"value": 0, "text": "Совсем не было проблем"},
      {"value": 1, "text": "Проблемы несколько дней"},
      {"value": 2, "text": "Проблемы более половины дней"},
      {"value": 3, "text": "Проблемы почти каждый день"}
    ]
  },
  {
    "id": 4,
    "text": "Как часто вы чувствовали усталость или нехватку энергии?",
    "options": [
      {"value": 0, "text": "Совсем не чувствовал"},
      {"value": 1, "text": "Чувствовал несколько дней"},
      {"value": 2, "text": "Чувствовал более половины дней"},
      {"value": 3, "text": "Чувствовал почти каждый день"}
    ]
  },
  {
    "id": 5,
    "text": "Как часто у вас был плохой аппетит или переедание?",
    "options": [
      {"value": 0, "text": "Совсем не было проблем"},
      {"value": 1, "text": "Проблемы несколько дней"},
      {"value": 2, "text": "Проблемы более половины дней"},
      {"value": 3, "text": "Проблемы почти каждый день"}
    ]
  },
  {
    "id": 6,
    "text": "Как часто вы чувствовали себя плохим, виноватым или бесполезным?",
    "options": [
      {"value": 0, "text": "Совсем не чувствовал"},
      {"value": 1, "text": "Чувствовал несколько дней"},
      {"value": 2, "text": "Чувствовал более половины дней"},
      {"value": 3, "text": "Чувствовал почти каждый день"}
    ]
  },
  {
    "id": 7,
    "text": "Как часто у вас были проблемы с концентрацией внимания, принятием решений или памятью?",
    "options": [
      {"value": 0, "text": "Совсем не было проблем"},
      {"value": 1, "text": "Проблемы несколько дней"},
      {"value": 2, "text": "Проблемы более половины дней"},
      {"value": 3, "text": "Проблемы почти каждый день"}
    ]
  }
]'::jsonb,
scoring_logic = '{
  "levels": [
    {"min": 0, "max": 6, "level": "Минимальный", "description": "Минимальный уровень депрессивных и тревожных симптомов"},
    {"min": 7, "max": 13, "level": "Легкий", "description": "Легкие признаки депрессии или тревожности"},
    {"min": 14, "max": 20, "level": "Умеренный", "description": "Умеренный уровень депрессивных или тревожных симптомов"},
    {"min": 21, "max": 21, "level": "Высокий", "description": "Высокий уровень депрессивных или тревожных симптомов"}
  ]
}'::jsonb
WHERE title = 'Тест на депрессию и тревожность';